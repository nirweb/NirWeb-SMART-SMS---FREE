!function(e,t,n,i){"use strict";var a=a||{};a.funcs={},a.vars={onloaded:!1,$body:e("body"),$window:e(t),$document:e(n),$form_warning:null,is_confirm:!1,form_modified:!1,code_themes:[],is_rtl:e("body").hasClass("rtl")},a.helper={uid:function(e){return(e||"")+Math.random().toString(36).substr(2,9)},preg_quote:function(e){return(e+"").replace(/(\[|\])/g,"\\$1")},name_nested_replace:function(t,n){var i=new RegExp(a.helper.preg_quote(n+"[\\d+]"),"g");t.find(":radio").each(function(){(this.checked||this.orginal_checked)&&(this.orginal_checked=!0)}),t.each(function(t){e(this).find(":input").each(function(){this.name=this.name.replace(i,n+"["+t+"]"),this.orginal_checked&&(this.checked=!0)})})},debounce:function(e,t,n){var i;return function(){var a=this,r=arguments,S=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||e.apply(a,r)},t),S&&e.apply(a,r)}}},e.fn.csf_clone=function(){for(var t=e.fn.clone.apply(this,arguments),n=this.find("select").add(this.filter("select")),i=t.find("select").add(t.filter("select")),a=0;a<n.length;++a)for(var r=0;r<n[a].options.length;++r)!0===n[a].options[r].selected&&(i[a].options[r].selected=!0);return this.find(":radio").each(function(){this.orginal_checked=this.checked}),t},e.fn.csf_expand_all=function(){return this.each(function(){e(this).on("click",function(t){t.preventDefault(),e(".CFSSMARTSMS-wrapper").toggleClass("CFSSMARTSMS-show-all"),e(".CFSSMARTSMS-section").csf_reload_script(),e(this).find(".fa").toggleClass("fa-indent").toggleClass("fa-outdent")})})},e.fn.csf_nav_options=function(){return this.each(function(){var n,i=e(this),a=e(t),r=e("#wpwrap"),S=i.find("a");a.on("hashchange CFSSMARTSMS.hashchange",function(){var i=t.location.hash.replace("#tab=",""),a=i||S.first().attr("href").replace("#tab=",""),o=e('[data-tab-id="'+a+'"]');if(o.length){o.closest(".CFSSMARTSMS-tab-item").addClass("CFSSMARTSMS-tab-expanded").siblings().removeClass("CFSSMARTSMS-tab-expanded"),o.next().is("ul")&&(a=(o=o.next().find("li").first().find("a")).data("tab-id")),S.removeClass("CFSSMARTSMS-active"),o.addClass("CFSSMARTSMS-active"),n&&n.addClass("hidden");var s=e('[data-section-id="'+a+'"]');s.removeClass("hidden"),s.csf_reload_script(),e(".CFSSMARTSMS-section-id").val(s.index()+1),n=s,r.hasClass("wp-responsive-open")&&(e("html, body").animate({scrollTop:s.offset().top-50},200),r.removeClass("wp-responsive-open"))}}).trigger("CFSSMARTSMS.hashchange")})},e.fn.csf_nav_metabox=function(){return this.each(function(){var t,n=e(this),i=n.find("a"),a=n.parent().find(".CFSSMARTSMS-section");i.each(function(n){e(this).on("click",function(r){r.preventDefault();var S=e(this);i.removeClass("CFSSMARTSMS-active"),S.addClass("CFSSMARTSMS-active"),void 0!==t&&t.addClass("hidden");var o=a.eq(n);o.removeClass("hidden"),o.csf_reload_script(),t=o})}),i.first().trigger("click")})},e.fn.csf_page_templates=function(){this.length&&e(n).on("change",".editor-page-attributes__template select, #page_template",function(){var t=e(this).val()||"default";e(".CFSSMARTSMS-page-templates").removeClass("CFSSMARTSMS-metabox-show").addClass("CFSSMARTSMS-metabox-hide"),e(".CFSSMARTSMS-page-"+t.toLowerCase().replace(/[^a-zA-Z0-9]+/g,"-")).removeClass("CFSSMARTSMS-metabox-hide").addClass("CFSSMARTSMS-metabox-show")})},e.fn.csf_post_formats=function(){this.length&&e(n).on("change",'.editor-post-format select, #formatdiv input[name="post_format"]',function(){var t=e(this).val()||"default";t="0"===t?"default":t,e(".CFSSMARTSMS-post-formats").removeClass("CFSSMARTSMS-metabox-show").addClass("CFSSMARTSMS-metabox-hide"),e(".CFSSMARTSMS-post-format-"+t).removeClass("CFSSMARTSMS-metabox-hide").addClass("CFSSMARTSMS-metabox-show")})},e.fn.csf_search=function(){return this.each(function(){e(this).find("input").on("change keyup",function(){var t=e(this).val(),n=e(".CFSSMARTSMS-wrapper"),i=n.find(".CFSSMARTSMS-section").find("> .CFSSMARTSMS-field:not(.CFSSMARTSMS-depend-on)"),a=i.find("> .CFSSMARTSMS-title, .CFSSMARTSMS-search-tags");t.length>3?(i.addClass("CFSSMARTSMS-metabox-hide"),n.addClass("CFSSMARTSMS-search-all"),a.each(function(){var n=e(this);if(n.text().match(new RegExp(".*?"+t+".*?","i"))){var i=n.closest(".CFSSMARTSMS-field");i.removeClass("CFSSMARTSMS-metabox-hide"),i.parent().csf_reload_script()}})):(i.removeClass("CFSSMARTSMS-metabox-hide"),n.removeClass("CFSSMARTSMS-search-all"))})})},e.fn.csf_sticky=function(){return this.each(function(){var n=e(this),i=e(t),a=n.find(".CFSSMARTSMS-header-inner"),r=parseInt(a.css("padding-left"))+parseInt(a.css("padding-right")),S=0,o=!1,s=function(){o||requestAnimationFrame(function(){var e,t,s;e=n.offset().top,t=Math.max(32,e-S),s=i.innerWidth(),t<=32&&s>782?(a.css({width:n.outerWidth()-r}),n.css({height:n.outerHeight()}).addClass("CFSSMARTSMS-sticky")):(a.removeAttr("style"),n.removeAttr("style").removeClass("CFSSMARTSMS-sticky")),o=!1}),o=!0},c=function(){S=i.scrollTop(),s()};i.on("scroll resize",c),c()})},e.fn.csf_dependency=function(){return this.each(function(){var t=e(this),n=t.children("[data-controller]");if(n.length){var i=e.csf_deps.createRuleset(),r=e.csf_deps.createRuleset(),S=[],o=[];n.each(function(){var t=e(this),n=t.data("controller").split("|"),a=t.data("condition").split("|"),s=t.data("value").toString().split("|"),c=!!t.data("depend-global"),l=c?r:i;e.each(n,function(e,n){var i=s[e]||"",r=a[e]||a[0];(l=l.createRule('[data-depend-id="'+n+'"]',r,i)).include(t),c?o.push(n):S.push(n)})}),S.length&&e.csf_deps.enable(t,i,S),o.length&&e.csf_deps.enable(a.vars.$body,r,o)}})},e.fn.csf_field_accordion=function(){return this.each(function(){e(this).find(".CFSSMARTSMS-accordion-title").on("click",function(){var t=e(this),n=t.find(".CFSSMARTSMS-accordion-icon"),i=t.next();n.hasClass("fa-angle-right")?n.removeClass("fa-angle-right").addClass("fa-angle-down"):n.removeClass("fa-angle-down").addClass("fa-angle-right"),i.data("opened")||(i.csf_reload_script(),i.data("opened",!0)),i.toggleClass("CFSSMARTSMS-accordion-open")})})},e.fn.csf_field_backup=function(){return this.each(function(){if(void 0!==t.wp.customize){var n=this,i=e(this),r=(e("body"),i.find(".CFSSMARTSMS-import")),S=i.find(".CFSSMARTSMS-reset");n.notificationOverlay=function(){wp.customize.notifications&&wp.customize.OverlayNotification&&(wp.customize.state("saved").get()||(wp.customize.state("changesetStatus").set("trash"),wp.customize.each(function(e){e._dirty=!1}),wp.customize.state("saved").set(!0)),wp.customize.notifications.add(new wp.customize.OverlayNotification("csf_field_backup_notification",{type:"default",message:"&nbsp;",loading:!0})))},S.on("click",function(e){e.preventDefault(),a.vars.is_confirm&&(n.notificationOverlay(),t.wp.ajax.post("CFSSMARTSMS-reset",{unique:S.data("unique"),nonce:S.data("nonce")}).done(function(e){t.location.reload(!0)}).fail(function(e){alert(e.error),wp.customize.notifications.remove("csf_field_backup_notification")}))}),r.on("click",function(e){e.preventDefault(),a.vars.is_confirm&&(n.notificationOverlay(),t.wp.ajax.post("CFSSMARTSMS-import",{unique:r.data("unique"),nonce:r.data("nonce"),data:i.find(".CFSSMARTSMS-import-data").val()}).done(function(e){t.location.reload(!0)}).fail(function(e){alert(e.error),wp.customize.notifications.remove("csf_field_backup_notification")}))})}})},e.fn.csf_field_background=function(){return this.each(function(){e(this).find(".CFSSMARTSMS--background-image").csf_reload_script()})},e.fn.csf_field_date=function(){return this.each(function(){var t=e(this),n=t.find("input"),i=t.find(".CFSSMARTSMS-date-settings").data("settings"),a={showAnim:"",beforeShow:function(t,n){e(n.dpDiv).addClass("CFSSMARTSMS-datepicker-wrapper")},onClose:function(t,n){e(n.dpDiv).removeClass("CFSSMARTSMS-datepicker-wrapper")}};i=e.extend({},i,a),2===n.length&&(i=e.extend({},i,{onSelect:function(t){e(this),n.first();var a=n.first().attr("id")===e(this).attr("id")?"minDate":"maxDate",r=e.datepicker.parseDate(i.dateFormat,t);n.not(this).datepicker("option",a,r)}})),n.each(function(){var t=e(this);t.hasClass("hasDatepicker")&&t.removeAttr("id").removeClass("hasDatepicker"),t.datepicker(i)})})},e.fn.csf_field_datetime=function(){return this.each(function(){var t=e(this),n=t.find("input"),i=t.find(".CFSSMARTSMS-datetime-settings").data("settings");i=e.extend({},i,{onReady:function(t,n,i){e(i.calendarContainer).addClass("CFSSMARTSMS-flatpickr")}}),2===n.length&&(i=e.extend({},i,{onChange:function(t,i,a){"from"===e(a.element).data("type")?n.last().get(0)._flatpickr.set("minDate",t[0]):n.first().get(0)._flatpickr.set("maxDate",t[0])}})),n.each(function(){e(this).flatpickr(i)})})},e.fn.csf_field_fieldset=function(){return this.each(function(){e(this).find(".CFSSMARTSMS-fieldset-content").csf_reload_script()})},e.fn.csf_field_gallery=function(){return this.each(function(){var n,i=e(this),a=i.find(".CFSSMARTSMS-edit-gallery"),r=i.find(".CFSSMARTSMS-clear-gallery"),S=i.find("ul"),o=i.find("input");i.find("img");i.on("click",".CFSSMARTSMS-button, .CFSSMARTSMS-edit-gallery",function(i){var s=e(this),c=o.val(),l=s.hasClass("CFSSMARTSMS-edit-gallery")?"edit":"add",d="add"!==l||c.length?"gallery-edit":"gallery";i.preventDefault(),void 0!==t.wp&&t.wp.media&&t.wp.media.gallery&&("gallery"===d?(n=t.wp.media({library:{type:"image"},frame:"post",state:"gallery",multiple:!0})).open():(n=t.wp.media.gallery.edit('[gallery ids="'+c+'"]'),"add"===l&&n.setState("gallery-library")),n.on("update",function(e){S.empty();var t=e.models.map(function(e){var t=e.toJSON(),n=t.sizes&&t.sizes.thumbnail&&t.sizes.thumbnail.url?t.sizes.thumbnail.url:t.url;return S.append('<li><img src="'+n+'"></li>'),t.id});o.val(t.join(",")).trigger("change"),r.removeClass("hidden"),a.removeClass("hidden")}))}),r.on("click",function(e){e.preventDefault(),S.empty(),o.val("").trigger("change"),r.addClass("hidden"),a.addClass("hidden")})})},e.fn.csf_field_group=function(){return this.each(function(){var t=e(this),n=t.children(".CFSSMARTSMS-fieldset"),i=n.length?n:t,r=i.children(".CFSSMARTSMS-cloneable-wrapper"),S=i.children(".CFSSMARTSMS-cloneable-hidden"),o=i.children(".CFSSMARTSMS-cloneable-max"),s=i.children(".CFSSMARTSMS-cloneable-min"),c=r.data("field-id"),l=Boolean(Number(r.data("title-number"))),d=parseInt(r.data("max")),f=parseInt(r.data("min"));r.hasClass("ui-accordion")&&r.find(".ui-accordion-header-icon").remove();var h=function(t){t.find(".CFSSMARTSMS-cloneable-title-number").each(function(t){e(this).html(e(this).closest(".CFSSMARTSMS-cloneable-item").index()+1+".")})};r.accordion({header:"> .CFSSMARTSMS-cloneable-item > .CFSSMARTSMS-cloneable-title",collapsible:!0,active:!1,animate:!1,heightStyle:"content",icons:{header:"CFSSMARTSMS-cloneable-header-icon fas fa-angle-right",activeHeader:"CFSSMARTSMS-cloneable-header-icon fas fa-angle-down"},activate:function(e,t){var n=t.newPanel,i=t.newHeader;if(n.length&&!n.data("opened")){var a=n.children().first().find(":input").first(),r=i.find(".CFSSMARTSMS-cloneable-value");a.on("change keyup",function(e){r.text(a.val())}),n.csf_reload_script(),n.data("opened",!0),n.data("retry",!1)}else n.data("retry")&&(n.csf_reload_script_retry(),n.data("retry",!1))}}),r.sortable({axis:"y",handle:".CFSSMARTSMS-cloneable-title,.CFSSMARTSMS-cloneable-sort",helper:"original",cursor:"move",placeholder:"widget-placeholder",start:function(e,t){r.accordion({active:!1}),r.sortable("refreshPositions"),t.item.children(".CFSSMARTSMS-cloneable-content").data("retry",!0)},update:function(e,t){a.helper.name_nested_replace(r.children(".CFSSMARTSMS-cloneable-item"),c),r.csf_customizer_refresh(),l&&h(r)}}),i.children(".CFSSMARTSMS-cloneable-add").on("click",function(e){e.preventDefault();var t=r.children(".CFSSMARTSMS-cloneable-item").length;if(s.hide(),d&&t+1>d)o.show();else{var n=S.csf_clone(!0);n.removeClass("CFSSMARTSMS-cloneable-hidden"),n.find(':input[name!="_pseudo"]').each(function(){this.name=this.name.replace("___","").replace(c+"[0]",c+"["+t+"]")}),r.append(n),r.accordion("refresh"),r.accordion({active:t}),r.csf_customizer_refresh(),r.csf_customizer_listen({closest:!0}),l&&h(r)}});var M=function(t){t.preventDefault();var n=r.children(".CFSSMARTSMS-cloneable-item").length;if(s.hide(),d&&n+1>d)o.show();else{var i=e(this).parent().parent(),S=i.children(".CFSSMARTSMS-cloneable-helper").csf_clone(!0),f=i.children(".CFSSMARTSMS-cloneable-title").csf_clone(),M=i.children(".CFSSMARTSMS-cloneable-content").csf_clone(),p=e('<div class="CFSSMARTSMS-cloneable-item" />');p.append(S),p.append(f),p.append(M),r.children().eq(i.index()).after(p),a.helper.name_nested_replace(r.children(".CFSSMARTSMS-cloneable-item"),c),r.accordion("refresh"),r.csf_customizer_refresh(),r.csf_customizer_listen({closest:!0}),l&&h(r)}};r.children(".CFSSMARTSMS-cloneable-item").children(".CFSSMARTSMS-cloneable-helper").on("click",".CFSSMARTSMS-cloneable-clone",M),i.children(".CFSSMARTSMS-cloneable-hidden").children(".CFSSMARTSMS-cloneable-helper").on("click",".CFSSMARTSMS-cloneable-clone",M);var p=function(t){t.preventDefault();var n=r.children(".CFSSMARTSMS-cloneable-item").length;o.hide(),s.hide(),f&&n-1<f?s.show():(e(this).closest(".CFSSMARTSMS-cloneable-item").remove(),a.helper.name_nested_replace(r.children(".CFSSMARTSMS-cloneable-item"),c),r.csf_customizer_refresh(),l&&h(r))};r.children(".CFSSMARTSMS-cloneable-item").children(".CFSSMARTSMS-cloneable-helper").on("click",".CFSSMARTSMS-cloneable-remove",p),i.children(".CFSSMARTSMS-cloneable-hidden").children(".CFSSMARTSMS-cloneable-helper").on("click",".CFSSMARTSMS-cloneable-remove",p)})},e.fn.csf_field_icon=function(){return this.each(function(){var n=e(this);n.on("click",".CFSSMARTSMS-icon-add",function(i){i.preventDefault();var r=e(this),S=e("#CFSSMARTSMS-modal-icon");S.removeClass("hidden"),a.vars.$icon_target=n,a.vars.icon_modal_loaded||(S.find(".CFSSMARTSMS-modal-loading").show(),t.wp.ajax.post("CFSSMARTSMS-get-icons",{nonce:r.data("nonce")}).done(function(t){S.find(".CFSSMARTSMS-modal-loading").hide(),a.vars.icon_modal_loaded=!0;var n=S.find(".CFSSMARTSMS-modal-load").html(t.content);n.on("click","i",function(t){t.preventDefault();var n=e(this).attr("title");a.vars.$icon_target.find(".CFSSMARTSMS-icon-preview i").removeAttr("class").addClass(n),a.vars.$icon_target.find(".CFSSMARTSMS-icon-preview").removeClass("hidden"),a.vars.$icon_target.find(".CFSSMARTSMS-icon-remove").removeClass("hidden"),a.vars.$icon_target.find("input").val(n).trigger("change"),S.addClass("hidden")}),S.on("change keyup",".CFSSMARTSMS-icon-search",function(){var t=e(this).val();n.find("i").each(function(){var n=e(this);n.attr("title").search(new RegExp(t,"i"))<0?n.hide():n.show()})}),S.on("click",".CFSSMARTSMS-modal-close, .CFSSMARTSMS-modal-overlay",function(){S.addClass("hidden")})}).fail(function(e){S.find(".CFSSMARTSMS-modal-loading").hide(),S.find(".CFSSMARTSMS-modal-load").html(e.error),S.on("click",function(){S.addClass("hidden")})}))}),n.on("click",".CFSSMARTSMS-icon-remove",function(t){t.preventDefault(),n.find(".CFSSMARTSMS-icon-preview").addClass("hidden"),n.find("input").val("").trigger("change"),e(this).addClass("hidden")})})},e.fn.csf_field_map=function(){return this.each(function(){if("undefined"!=typeof L){var t=e(this),n=t.find(".CFSSMARTSMS--map-osm"),i=t.find(".CFSSMARTSMS--map-search input"),a=t.find(".CFSSMARTSMS--latitude"),r=t.find(".CFSSMARTSMS--longitude"),S=t.find(".CFSSMARTSMS--zoom"),o=n.data("map"),s=L.map(n.get(0),o);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(s);var c=L.marker(o.center,{draggable:!0}).addTo(s),l=function(e){a.val(e.lat),r.val(e.lng),S.val(s.getZoom())};s.on("click",function(e){c.setLatLng(e.latlng),l(e.latlng)}),s.on("zoom",function(){l(c.getLatLng())}),c.on("drag",function(){l(c.getLatLng())}),i.length||(i=e('[data-depend-id="'+t.find(".CFSSMARTSMS--address-field").data("address-field")+'"]'));var d={};i.autocomplete({source:function(t,n){var i=t.term;i in d?n(d[i]):e.get("https://nominatim.openstreetmap.org/search",{format:"json",q:i},function(e){var t;t=e.length?e.map(function(e){return{value:e.display_name,label:e.display_name,lat:e.lat,lon:e.lon}},"json"):[{value:"no-data",label:"No Results."}],d[i]=t,n(t)})},select:function(e,t){if("no-data"===t.item.value)return!1;var n=L.latLng(t.item.lat,t.item.lon);s.panTo(n),c.setLatLng(n),l(n)},create:function(t,n){e(this).autocomplete("widget").addClass("CFSSMARTSMS-map-ui-autocomplate")}});var f=function(){var e=L.latLng(a.val(),r.val());s.panTo(e),c.setLatLng(e)};a.on("change",f),r.on("change",f)}})},e.fn.csf_field_link=function(){return this.each(function(){var n=e(this),i=n.find(".CFSSMARTSMS--link"),r=n.find(".CFSSMARTSMS--add"),S=n.find(".CFSSMARTSMS--edit"),o=n.find(".CFSSMARTSMS--remove"),s=n.find(".CFSSMARTSMS--result"),c=a.helper.uid("CFSSMARTSMS-wplink-textarea-");r.on("click",function(e){e.preventDefault(),t.wpLink.open(c)}),S.on("click",function(t){t.preventDefault(),r.trigger("click"),e("#wp-link-url").val(n.find(".CFSSMARTSMS--url").val()),e("#wp-link-text").val(n.find(".CFSSMARTSMS--text").val()),e("#wp-link-target").prop("checked","_blank"===n.find(".CFSSMARTSMS--target").val())}),o.on("click",function(e){e.preventDefault(),n.find(".CFSSMARTSMS--url").val("").trigger("change"),n.find(".CFSSMARTSMS--text").val(""),n.find(".CFSSMARTSMS--target").val(""),r.removeClass("hidden"),S.addClass("hidden"),o.addClass("hidden"),s.parent().addClass("hidden")}),i.attr("id",c).on("change",function(){var i=t.wpLink.getAttrs(),a=i.href,c=e("#wp-link-text").val(),l=i.target?i.target:"";n.find(".CFSSMARTSMS--url").val(a).trigger("change"),n.find(".CFSSMARTSMS--text").val(c),n.find(".CFSSMARTSMS--target").val(l),s.html('{url:"'+a+'", text:"'+c+'", target:"'+l+'"}'),r.addClass("hidden"),S.removeClass("hidden"),o.removeClass("hidden"),s.parent().removeClass("hidden")})})},e.fn.csf_field_media=function(){return this.each(function(){var n,i=e(this),a=i.find(".CFSSMARTSMS--button"),r=i.find(".CFSSMARTSMS--remove"),S=a.data("library")&&a.data("library").split(",")||"",o=!!i.hasClass("CFSSMARTSMS-assign-field-background")&&i.closest(".CFSSMARTSMS-field-background").find(".CFSSMARTSMS--auto-attributes");a.on("click",function(e){e.preventDefault(),void 0!==t.wp&&t.wp.media&&t.wp.media.gallery&&(n?n.open():((n=t.wp.media({library:{type:S}})).on("select",function(){var e,t=n.state().get("selection").first().attributes,s=a.data("preview-size")||"thumbnail";S.length&&-1===S.indexOf(t.subtype)&&-1===S.indexOf(t.type)||(i.find(".CFSSMARTSMS--id").val(t.id),i.find(".CFSSMARTSMS--width").val(t.width),i.find(".CFSSMARTSMS--height").val(t.height),i.find(".CFSSMARTSMS--alt").val(t.alt),i.find(".CFSSMARTSMS--title").val(t.title),i.find(".CFSSMARTSMS--description").val(t.description),e=void 0!==t.sizes&&void 0!==t.sizes.thumbnail&&"thumbnail"===s?t.sizes.thumbnail.url:void 0!==t.sizes&&void 0!==t.sizes.full?t.sizes.full.url:"image"===t.type?t.url:t.icon,console.log(t),o&&o.removeClass("CFSSMARTSMS--attributes-hidden"),r.removeClass("hidden"),i.find(".CFSSMARTSMS--preview").removeClass("hidden"),i.find(".CFSSMARTSMS--src").attr("src",e),i.find(".CFSSMARTSMS--thumbnail").val(e),i.find(".CFSSMARTSMS--url").val(t.url).trigger("change"))}),n.open()))}),r.on("click",function(e){e.preventDefault(),o&&o.addClass("CFSSMARTSMS--attributes-hidden"),r.addClass("hidden"),i.find("input").val(""),i.find(".CFSSMARTSMS--preview").addClass("hidden"),i.find(".CFSSMARTSMS--url").trigger("change")})})},e.fn.csf_field_repeater=function(){return this.each(function(){var t=e(this),n=t.children(".CFSSMARTSMS-fieldset"),i=n.length?n:t,r=i.children(".CFSSMARTSMS-repeater-wrapper"),S=i.children(".CFSSMARTSMS-repeater-hidden"),o=i.children(".CFSSMARTSMS-repeater-max"),s=i.children(".CFSSMARTSMS-repeater-min"),c=r.data("field-id"),l=parseInt(r.data("max")),d=parseInt(r.data("min"));r.children(".CFSSMARTSMS-repeater-item").children(".CFSSMARTSMS-repeater-content").csf_reload_script(),r.sortable({axis:"y",handle:".CFSSMARTSMS-repeater-sort",helper:"original",cursor:"move",placeholder:"widget-placeholder",update:function(e,t){a.helper.name_nested_replace(r.children(".CFSSMARTSMS-repeater-item"),c),r.csf_customizer_refresh(),t.item.csf_reload_script_retry()}}),i.children(".CFSSMARTSMS-repeater-add").on("click",function(e){e.preventDefault();var t=r.children(".CFSSMARTSMS-repeater-item").length;if(s.hide(),l&&t+1>l)o.show();else{var n=S.csf_clone(!0);n.removeClass("CFSSMARTSMS-repeater-hidden"),n.find(':input[name!="_pseudo"]').each(function(){this.name=this.name.replace("___","").replace(c+"[0]",c+"["+t+"]")}),r.append(n),n.children(".CFSSMARTSMS-repeater-content").csf_reload_script(),r.csf_customizer_refresh(),r.csf_customizer_listen({closest:!0})}});var f=function(t){t.preventDefault();var n=r.children(".CFSSMARTSMS-repeater-item").length;if(s.hide(),l&&n+1>l)o.show();else{var i=e(this).parent().parent().parent(),S=i.children(".CFSSMARTSMS-repeater-content").csf_clone(),d=i.children(".CFSSMARTSMS-repeater-helper").csf_clone(!0),f=e('<div class="CFSSMARTSMS-repeater-item" />');f.append(S),f.append(d),r.children().eq(i.index()).after(f),f.children(".CFSSMARTSMS-repeater-content").csf_reload_script(),a.helper.name_nested_replace(r.children(".CFSSMARTSMS-repeater-item"),c),r.csf_customizer_refresh(),r.csf_customizer_listen({closest:!0})}};r.children(".CFSSMARTSMS-repeater-item").children(".CFSSMARTSMS-repeater-helper").on("click",".CFSSMARTSMS-repeater-clone",f),i.children(".CFSSMARTSMS-repeater-hidden").children(".CFSSMARTSMS-repeater-helper").on("click",".CFSSMARTSMS-repeater-clone",f);var h=function(t){t.preventDefault();var n=r.children(".CFSSMARTSMS-repeater-item").length;o.hide(),s.hide(),d&&n-1<d?s.show():(e(this).closest(".CFSSMARTSMS-repeater-item").remove(),a.helper.name_nested_replace(r.children(".CFSSMARTSMS-repeater-item"),c),r.csf_customizer_refresh())};r.children(".CFSSMARTSMS-repeater-item").children(".CFSSMARTSMS-repeater-helper").on("click",".CFSSMARTSMS-repeater-remove",h),i.children(".CFSSMARTSMS-repeater-hidden").children(".CFSSMARTSMS-repeater-helper").on("click",".CFSSMARTSMS-repeater-remove",h)})},e.fn.csf_field_slider=function(){return this.each(function(){var t=e(this),n=t.find("input"),i=t.find(".CFSSMARTSMS-slider-ui"),a=n.data(),r=n.val()||0;i.hasClass("ui-slider")&&i.empty(),i.slider({range:"min",value:r,min:a.min||0,max:a.max||100,step:a.step||1,slide:function(e,t){n.val(t.value).trigger("change")}}),n.on("keyup",function(){i.slider("value",n.val())})})},e.fn.csf_field_sortable=function(){return this.each(function(){var t=e(this).find(".CFSSMARTSMS-sortable");t.sortable({axis:"y",helper:"original",cursor:"move",placeholder:"widget-placeholder",update:function(e,n){t.csf_customizer_refresh()}}),t.find(".CFSSMARTSMS-sortable-content").csf_reload_script()})},e.fn.csf_field_sorter=function(){return this.each(function(){var t=e(this),n=t.find(".CFSSMARTSMS-enabled"),i=t.find(".CFSSMARTSMS-disabled"),a=!!i.length&&i;n.sortable({connectWith:a,placeholder:"ui-sortable-placeholder",update:function(e,n){var i=n.item.find("input");n.item.parent().hasClass("CFSSMARTSMS-enabled")?i.attr("name",i.attr("name").replace("disabled","enabled")):i.attr("name",i.attr("name").replace("enabled","disabled")),t.csf_customizer_refresh()}}),a&&a.sortable({connectWith:n,placeholder:"ui-sortable-placeholder",update:function(e,n){t.csf_customizer_refresh()}})})},e.fn.csf_field_spinner=function(){return this.each(function(){var t=e(this),n=t.find("input"),i=t.find(".ui-button"),a=n.data();i.length&&i.remove(),n.spinner({min:a.min||0,max:a.max||100,step:a.step||1,create:function(e,t){a.unit&&n.after('<span class="ui-button CFSSMARTSMS--unit">'+a.unit+"</span>")},spin:function(e,t){n.val(t.value).trigger("change")}})})},e.fn.csf_field_switcher=function(){return this.each(function(){var t=e(this).find(".CFSSMARTSMS--switcher");t.on("click",function(){var e=0,n=t.find("input");t.hasClass("CFSSMARTSMS--active")?t.removeClass("CFSSMARTSMS--active"):(e=1,t.addClass("CFSSMARTSMS--active")),n.val(e).trigger("change")})})},e.fn.csf_field_tabbed=function(){return this.each(function(){var t=e(this),n=t.find(".CFSSMARTSMS-tabbed-nav a"),i=t.find(".CFSSMARTSMS-tabbed-content");i.eq(0).csf_reload_script(),n.on("click",function(t){t.preventDefault();var n=e(this),a=n.index(),r=i.eq(a);n.addClass("CFSSMARTSMS-tabbed-active").siblings().removeClass("CFSSMARTSMS-tabbed-active"),r.csf_reload_script(),r.removeClass("hidden").siblings().addClass("hidden")})})},e.fn.csf_field_typography=function(){return this.each(function(){var t=this,n=e(this),i=[],r=csf_typography_json.webfonts,S=csf_typography_json.googlestyles,o=csf_typography_json.defaultstyles;t.sanitize_subset=function(e){return e=(e=e.replace("-ext"," Extended")).charAt(0).toUpperCase()+e.slice(1)},t.sanitize_style=function(e){return S[e]?S[e]:e},t.load_google_font=function(e,t,n){e&&"object"==typeof WebFont&&(t=t?t.replace("normal",""):"",n=n?n.replace("normal",""):"",(t||n)&&(e=e+":"+t+n),-1===i.indexOf(e)&&WebFont.load({google:{families:[e]}}),i.push(e))},t.append_select_options=function(n,i,a,r,S){n.find("option").not(":first").remove();var o="";e.each(i,function(e,n){var i,s=n;i=S?a&&-1!==a.indexOf(n)?" selected":"":a&&a===n?" selected":"","subset"===r?s=t.sanitize_subset(n):"style"===r&&(s=t.sanitize_style(n)),o+='<option value="'+n+'"'+i+">"+s+"</option>"}),n.append(o).trigger("CFSSMARTSMS.change").trigger("chosen:updated")},t.init=function(){var i=[],S=n.find(".CFSSMARTSMS--typography"),s=n.find(".CFSSMARTSMS--type"),c=n.find(".CFSSMARTSMS--block-font-style"),l=S.data("unit"),d=S.data("line-height-unit"),f=S.data("exclude")?S.data("exclude").split(","):[];n.find(".CFSSMARTSMS--chosen").length&&n.find("select").each(function(){var t=e(this),n=t.parent().find(".chosen-container");n.length&&n.remove(),t.chosen({allow_single_deselect:!0,disable_search_threshold:15,width:"100%"})});var h=n.find(".CFSSMARTSMS--font-family"),M=h.val();h.find("option").not(":first-child").remove();var p="";e.each(r,function(t,n){f&&-1!==f.indexOf(t)||(p+='<optgroup label="'+n.label+'">',e.each(n.fonts,function(e,n){p+='<option value="'+(n="object"==typeof n?e:n)+'" data-type="'+t+'"'+(n===M?" selected":"")+">"+n+"</option>"}),p+="</optgroup>")}),h.append(p).trigger("chosen:updated");var u=n.find(".CFSSMARTSMS--block-font-style");if(u.length){var C=n.find(".CFSSMARTSMS--font-style-select"),v=C.val()?C.val().replace(/normal/g,""):"";C.on("change CFSSMARTSMS.change",function(e){var t=C.val();!t&&i&&-1===i.indexOf("normal")&&(t=i[0]);var a=t&&"italic"!==t&&"normal"===t?"normal":"",r=t&&"italic"!==t&&"normal"!==t?t.replace("italic",""):a,S=t&&"italic"===t.substr(-6)?"italic":"";n.find(".CFSSMARTSMS--font-weight").val(r),n.find(".CFSSMARTSMS--font-style").val(S)});var g=n.find(".CFSSMARTSMS--block-extra-styles");if(g.length)var m=n.find(".CFSSMARTSMS--extra-styles"),_=m.val()}var A=n.find(".CFSSMARTSMS--block-subset");if(A.length)var T=n.find(".CFSSMARTSMS--subset"),F=T.val(),R=T.data("multiple")||!1;var b=n.find(".CFSSMARTSMS--block-backup-font-family");h.on("change CFSSMARTSMS.change",function(e){A.length&&A.addClass("hidden"),g.length&&g.addClass("hidden"),b.length&&b.addClass("hidden");var n=h.find(":selected"),a=n.val(),S=n.data("type");if(S&&a){if("google"!==S&&"custom"!==S||!b.length||b.removeClass("hidden"),u.length){var l=o;"google"===S&&r[S].fonts[a][0]?l=r[S].fonts[a][0]:"custom"===S&&r[S].fonts[a]&&(l=r[S].fonts[a]),i=l;var d=-1!==l.indexOf("normal")?"normal":l[0],f=v&&-1!==l.indexOf(v)?v:d;t.append_select_options(C,l,f,"style"),v=!1,u.removeClass("hidden"),"google"===S&&g.length&&l.length>1&&(t.append_select_options(m,l,_,"style",!0),_=!1,g.removeClass("hidden"))}if("google"===S&&A.length&&r[S].fonts[a][1]){var M=r[S].fonts[a][1],p=M.length<2&&"latin"!==M[0]?M[0]:"",y=F&&-1!==M.indexOf(F)?F:p;y=R&&F?F:y,t.append_select_options(T,M,y,"subset",R),F=!1,A.removeClass("hidden")}}else c.find(":input").val(""),A.length&&(T.find("option").not(":first-child").remove(),T.trigger("chosen:updated")),u.length&&(C.find("option").not(":first-child").remove(),C.trigger("chosen:updated"));s.val(S)}).trigger("CFSSMARTSMS.change");var y=n.find(".CFSSMARTSMS--block-preview");if(y.length){var w=n.find(".CFSSMARTSMS--preview");n.on("change",a.helper.debounce(function(e){y.removeClass("hidden");var i=h.val(),a=n.find(".CFSSMARTSMS--font-weight").val(),r=n.find(".CFSSMARTSMS--font-style").val(),S=n.find(".CFSSMARTSMS--font-size").val(),o=n.find(".CFSSMARTSMS--font-variant").val(),s=n.find(".CFSSMARTSMS--line-height").val(),c=n.find(".CFSSMARTSMS--text-align").val(),f=n.find(".CFSSMARTSMS--text-transform").val(),M=n.find(".CFSSMARTSMS--text-decoration").val(),p=n.find(".CFSSMARTSMS--color").val(),u=n.find(".CFSSMARTSMS--word-spacing").val(),C=n.find(".CFSSMARTSMS--letter-spacing").val(),v=n.find(".CFSSMARTSMS--custom-style").val();"google"===n.find(".CFSSMARTSMS--type").val()&&t.load_google_font(i,a,r);var g={};i&&(g.fontFamily=i),a&&(g.fontWeight=a),r&&(g.fontStyle=r),o&&(g.fontVariant=o),S&&(g.fontSize=S+l),s&&(g.lineHeight=s+d),C&&(g.letterSpacing=C+l),u&&(g.wordSpacing=u+l),c&&(g.textAlign=c),f&&(g.textTransform=f),M&&(g.textDecoration=M),p&&(g.color=p),w.removeAttr("style"),v&&w.attr("style",v),w.css(g)},100)),y.on("click",function(){w.toggleClass("CFSSMARTSMS--black-background");var e=y.find(".CFSSMARTSMS--toggle");e.hasClass("fa-toggle-off")?e.removeClass("fa-toggle-off").addClass("fa-toggle-on"):e.removeClass("fa-toggle-on").addClass("fa-toggle-off")}),y.hasClass("hidden")||n.trigger("change")}},t.init()})},e.fn.csf_field_upload=function(){return this.each(function(){var n,i=e(this),a=i.find("input"),r=i.find(".CFSSMARTSMS--button"),S=i.find(".CFSSMARTSMS--remove"),o=i.find(".CFSSMARTSMS--preview"),s=i.find(".CFSSMARTSMS--src"),c=r.data("library")&&r.data("library").split(",")||"";r.on("click",function(e){e.preventDefault(),void 0!==t.wp&&t.wp.media&&t.wp.media.gallery&&(n?n.open():((n=t.wp.media({library:{type:c}})).on("select",function(){var e=n.state().get("selection").first().attributes;c.length&&-1===c.indexOf(e.subtype)&&-1===c.indexOf(e.type)||a.val(e.url).trigger("change")}),n.open()))}),S.on("click",function(e){e.preventDefault(),a.val("").trigger("change")}),a.on("change",function(t){var n=a.val();n?S.removeClass("hidden"):S.addClass("hidden"),o.length&&(-1!==e.inArray(n.split(".").pop().toLowerCase(),["jpg","jpeg","gif","png","svg","webp"])?(o.removeClass("hidden"),s.attr("src",n)):o.addClass("hidden"))})})},e.fn.csf_field_wp_editor=function(){return this.each(function(){if(void 0!==t.wp.editor&&void 0!==t.tinyMCEPreInit&&void 0!==t.tinyMCEPreInit.mceInit.csf_wp_editor){var n=e(this),i=n.find(".CFSSMARTSMS-wp-editor"),r=n.find("textarea");(n.find(".wp-editor-wrap").length||n.find(".mce-container").length)&&(i.empty(),i.append(r),r.css("display",""));var S=a.helper.uid("CFSSMARTSMS-editor-");r.attr("id",S);var o={tinymce:t.tinyMCEPreInit.mceInit.csf_wp_editor,quicktags:t.tinyMCEPreInit.qtInit.csf_wp_editor},s=i.data("editor-settings"),c=wp.oldEditor?wp.oldEditor:wp.editor;c&&c.hasOwnProperty("autop")&&(wp.editor.autop=c.autop,wp.editor.removep=c.removep,wp.editor.initialize=c.initialize);o.tinymce=e.extend({},o.tinymce,{selector:"#"+S,setup:function(e){e.on("change keyup",function(){var t=s.wpautop?e.getContent():wp.editor.removep(e.getContent());r.val(t).trigger("change")})}}),!1===s.tinymce&&(o.tinymce=!1,i.addClass("CFSSMARTSMS-no-tinymce")),!1===s.quicktags&&(o.quicktags=!1,i.addClass("CFSSMARTSMS-no-quicktags"));var l=setInterval(function(){n.is(":visible")&&(t.wp.editor.initialize(S,o),clearInterval(l))});if(s.media_buttons&&t.csf_media_buttons){var d=i.find(".wp-media-buttons");if(d.length)d.find(".CFSSMARTSMS-shortcode-button").data("editor-id",S);else{var f=e(t.csf_media_buttons);f.find(".CFSSMARTSMS-shortcode-button").data("editor-id",S),i.prepend(f)}}}})},e.fn.csf_confirm=function(){return this.each(function(){e(this).on("click",function(n){var i=e(this).data("confirm")||t.csf_vars.i18n.confirm;if(!confirm(i))return n.preventDefault(),!1;a.vars.is_confirm=!0,a.vars.form_modified=!1})})},e.fn.serializeObject=function(){var t={};return e.each(this.serializeArray(),function(n,i){var a=i.name,r=i.value;t[a]=void 0===t[a]?r:e.isArray(t[a])?t[a].concat(r):[t[a],r]}),t},e.fn.csf_save=function(){return this.each(function(){var n,i=e(this),r=e(".CFSSMARTSMS-save"),S=e(".CFSSMARTSMS-options"),o=!1;i.on("click",function(s){if(!o){var c=i.data("save"),l=i.val();r.attr("value",c),i.hasClass("CFSSMARTSMS-save-ajax")?(s.preventDefault(),S.addClass("CFSSMARTSMS-saving"),r.prop("disabled",!0),t.wp.ajax.post("csf_"+S.data("unique")+"_ajax_save",{data:e("#CFSSMARTSMS-form").serializeJSONCSF()}).done(function(t){if(e(".CFSSMARTSMS-error").remove(),Object.keys(t.errors).length){var i='<i class="CFSSMARTSMS-label-error CFSSMARTSMS-error">!</i>';e.each(t.errors,function(t,n){var a=e('[data-depend-id="'+t+'"]'),r=e('a[href="#tab='+a.closest(".CFSSMARTSMS-section").data("section-id")+'"]'),S=r.closest(".CFSSMARTSMS-tab-item");a.closest(".CFSSMARTSMS-fieldset").append('<p class="CFSSMARTSMS-error CFSSMARTSMS-error-text">'+n+"</p>"),r.find(".CFSSMARTSMS-error").length||r.append(i),S.find(".CFSSMARTSMS-arrow .CFSSMARTSMS-error").length||S.find(".CFSSMARTSMS-arrow").append(i)})}S.removeClass("CFSSMARTSMS-saving"),r.prop("disabled",!1).attr("value",l),o=!1,a.vars.form_modified=!1,a.vars.$form_warning.hide(),clearTimeout(n);var s=e(".CFSSMARTSMS-form-success");s.empty().append(t.notice).fadeIn("fast",function(){n=setTimeout(function(){s.fadeOut("fast")},1e3)})}).fail(function(e){alert(e.error)})):a.vars.form_modified=!1}o=!0})})},e.fn.CSFSMARTSMS_Options=function(){return this.each(function(){var i=e(this),r=i.find(".CFSSMARTSMS-content"),S=i.find(".CFSSMARTSMS-form-success"),o=i.find(".CFSSMARTSMS-form-warning"),s=i.find(".CFSSMARTSMS-header .CFSSMARTSMS-save");a.vars.$form_warning=o,o.length&&(t.onbeforeunload=function(){return!!a.vars.form_modified||void 0},r.on("change keypress",":input",function(){a.vars.form_modified||(S.hide(),o.fadeIn("fast"),a.vars.form_modified=!0)})),S.hasClass("CFSSMARTSMS-form-show")&&setTimeout(function(){S.fadeOut("fast")},1e3),e(n).keydown(function(e){if((e.ctrlKey||e.metaKey)&&83===e.which)return s.trigger("click"),e.preventDefault(),!1})})},e.fn.csf_taxonomy=function(){return this.each(function(){var t=e(this),n=t.parents("form");if("addtag"===n.attr("id")){var i=n.find("#submit"),a=t.find(".CFSSMARTSMS-field").csf_clone();i.on("click",function(){n.find(".form-required").hasClass("form-invalid")||(t.data("inited",!1),t.empty(),t.html(a),a=a.csf_clone(),t.csf_reload_script())})}})},e.fn.csf_shortcode=function(){var i=this;return i.shortcode_parse=function(t,n){var a="";return e.each(t,function(t,r){a+="["+(n=n||t),e.each(r,function(e,t){"content"===e?(a+="]",a+=t,a+="[/"+n):a+=i.shortcode_tags(e,t)}),a+="]"}),a},i.shortcode_tags=function(t,n){var i="";return""!==n&&("object"!=typeof n||e.isArray(n)?i+=" "+t.replace("-","_")+'="'+n.toString()+'"':e.each(n,function(e,t){switch(e){case"background-image":t=t.url?t.url:""}""!==t&&(i+=" "+e.replace("-","_")+'="'+t.toString()+'"')})),i},i.insertAtChars=function(e,t){var n=void 0!==e[0].name?e[0]:e;return n.value.length&&void 0!==n.selectionStart?(n.focus(),n.value.substring(0,n.selectionStart)+t+n.value.substring(n.selectionEnd,n.value.length)):(n.focus(),t)},i.send_to_editor=function(t,n){var a;if("undefined"!=typeof tinymce&&(a=tinymce.get(n)),a&&!a.isHidden())a.execCommand("mceInsertContent",!1,t);else{var r=e("#"+n);r.val(i.insertAtChars(r,t)).trigger("change")}},this.each(function(){var r,S,o,s,c,l,d,f,h,M=e(this),p=M.find(".CFSSMARTSMS-modal-load"),u=(M.find(".CFSSMARTSMS-modal-content"),M.find(".CFSSMARTSMS-modal-insert")),C=M.find(".CFSSMARTSMS-modal-loading"),v=M.find("select"),g=M.data("modal-id"),m=M.data("nonce");e(n).on("click",'.CFSSMARTSMS-shortcode-button[data-modal-id="'+g+'"]',function(t){t.preventDefault(),h=e(this),r=h.data("editor-id")||!1,S=h.data("target-id")||!1,o=h.data("gutenberg-id")||!1,M.removeClass("hidden"),M.hasClass("CFSSMARTSMS-shortcode-single")&&void 0===c&&v.trigger("change")}),v.on("change",function(){var n=e(this),i=n.find(":selected");s=n.val(),c=i.data("shortcode"),l=i.data("view")||"normal",d=i.data("group")||c,p.empty(),s?(C.show(),t.wp.ajax.post("CFSSMARTSMS-get-shortcode-"+g,{shortcode_key:s,nonce:m}).done(function(t){C.hide();var n=e(t.content).appendTo(p);u.parent().removeClass("hidden"),f=n.find(".CFSSMARTSMS--repeat-shortcode").csf_clone(),n.csf_reload_script(),n.find(".CFSSMARTSMS-fields").csf_reload_script()})):u.parent().addClass("hidden")}),u.on("click",function(n){if(n.preventDefault(),!u.prop("disabled")&&!u.attr("disabled")){var a="",s=M.find(".CFSSMARTSMS-field:not(.CFSSMARTSMS-depend-on)").find(":input:not(.ignore)").serializeObjectCSF();switch(l){case"contents":var f=c?s[c]:s;e.each(f,function(e,t){var n=c||e;a+="["+n+"]"+t+"[/"+n+"]"});break;case"group":a+="["+c,e.each(s[c],function(e,t){a+=i.shortcode_tags(e,t)}),a+="]",a+=i.shortcode_parse(s[d],d),a+="[/"+c+"]";break;case"repeater":a+=i.shortcode_parse(s[d],d);break;default:a+=i.shortcode_parse(s)}if(a=""===a?"["+c+"]":a,o){var p=t.csf_gutenberg_props.attributes.hasOwnProperty("shortcode")?t.csf_gutenberg_props.attributes.shortcode:"";t.csf_gutenberg_props.setAttributes({shortcode:p+a})}else if(r)i.send_to_editor(a,r);else{var C=S?e(S):h.parent().find("textarea");C.val(i.insertAtChars(C,a)).trigger("change")}M.addClass("hidden")}}),M.on("click",".CFSSMARTSMS--repeat-button",function(e){e.preventDefault();var t=M.find(".CFSSMARTSMS--repeatable"),n=f.csf_clone(),i=n.find(".CFSSMARTSMS-repeat-remove");n.appendTo(t);n.find(".CFSSMARTSMS-fields").csf_reload_script(),a.helper.name_nested_replace(M.find(".CFSSMARTSMS--repeat-shortcode"),d),i.on("click",function(){n.remove(),a.helper.name_nested_replace(M.find(".CFSSMARTSMS--repeat-shortcode"),d)})}),M.on("click",".CFSSMARTSMS-modal-close, .CFSSMARTSMS-modal-overlay",function(){M.addClass("hidden")})})},"function"==typeof Color&&(Color.prototype.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var e=parseInt(this._color,10).toString(16);if(this.error)return"";if(e.length<6)for(var t=6-e.length-1;t>=0;t--)e="0"+e;return"#"+e}),a.funcs.parse_color=function(e){var t=e.replace(/\s+/g,""),n=-1!==t.indexOf("rgba")?parseFloat(100*t.replace(/^.*,(.+)\)/,"$1")):100;return{value:t,transparent:n,rgba:n<100}},e.fn.csf_color=function(){return this.each(function(){var n,i=e(this),r=a.funcs.parse_color(i.val()),S=!t.csf_vars.color_palette.length||t.csf_vars.color_palette;i.hasClass("wp-color-picker")&&i.closest(".wp-picker-container").after(i).remove(),i.wpColorPicker({palettes:S,change:function(e,t){var a=t.color.toString();n.removeClass("CFSSMARTSMS--transparent-active"),n.find(".CFSSMARTSMS--transparent-offset").css("background-color",a),i.val(a).trigger("change")},create:function(){n=i.closest(".wp-picker-container");var t=i.data("a8cIris"),S=e('<div class="CFSSMARTSMS--transparent-wrap"><div class="CFSSMARTSMS--transparent-slider"></div><div class="CFSSMARTSMS--transparent-offset"></div><div class="CFSSMARTSMS--transparent-text"></div><div class="CFSSMARTSMS--transparent-button">transparent <i class="fas fa-toggle-off"></i></div></div>').appendTo(n.find(".wp-picker-holder")),o=S.find(".CFSSMARTSMS--transparent-slider"),s=S.find(".CFSSMARTSMS--transparent-text"),c=S.find(".CFSSMARTSMS--transparent-offset"),l=S.find(".CFSSMARTSMS--transparent-button");"transparent"===i.val()&&n.addClass("CFSSMARTSMS--transparent-active"),l.on("click",function(){"transparent"!==i.val()?(i.val("transparent").trigger("change").removeClass("iris-error"),n.addClass("CFSSMARTSMS--transparent-active")):(i.val(t._color.toString()).trigger("change"),n.removeClass("CFSSMARTSMS--transparent-active"))}),o.slider({value:r.transparent,step:1,min:0,max:100,slide:function(e,n){var a=parseFloat(n.value/100);t._color._alpha=a,i.wpColorPicker("color",t._color.toString()),s.text(1===a||0===a?"":a)},create:function(){var e=parseFloat(r.transparent/100),S=e<1?e:"";s.text(S),c.css("background-color",r.value),n.on("click",".wp-picker-clear",function(){t._color._alpha=1,s.text(""),o.slider("option","value",100),n.removeClass("CFSSMARTSMS--transparent-active"),i.trigger("change")}),n.on("click",".wp-picker-default",function(){var e=a.funcs.parse_color(i.data("default-color")),r=parseFloat(e.transparent/100),S=r<1?r:"";t._color._alpha=r,s.text(S),o.slider("option","value",e.transparent),"transparent"===e.value&&(i.removeClass("iris-error"),n.addClass("CFSSMARTSMS--transparent-active"))})}})}})})},e.fn.csf_chosen=function(){return this.each(function(){var n=e(this),i=n.parent().find(".chosen-container"),a=n.hasClass("CFSSMARTSMS-chosen-sortable")||!1,r=n.hasClass("CFSSMARTSMS-chosen-ajax")||!1,S=n.attr("multiple")||!1,o=S?"100%":"auto",s=e.extend({allow_single_deselect:!0,disable_search_threshold:10,width:o,no_results_text:t.csf_vars.i18n.no_results_text},n.data("chosen-settings"));if(i.length&&i.remove(),r){var c=e.extend({data:{type:"post",nonce:""},allow_single_deselect:!0,disable_search_threshold:-1,width:"100%",min_length:3,type_delay:500,typing_text:t.csf_vars.i18n.typing_text,searching_text:t.csf_vars.i18n.searching_text,no_results_text:t.csf_vars.i18n.no_results_text},n.data("chosen-settings"));n.CSFAjaxChosen(c)}else n.chosen(s);if(S){var l=n.parent().find(".CFSSMARTSMS-hide-select"),d=l.val()||[];n.on("change",function(e,n){n&&n.selected?l.append('<option value="'+n.selected+'" selected="selected">'+n.selected+"</option>"):n&&n.deselected&&l.find('option[value="'+n.deselected+'"]').remove(),void 0!==t.wp.customize&&0===l.children().length&&l.data("customize-setting-link")&&t.wp.customize.control(l.data("customize-setting-link")).setting.set(""),l.trigger("change")}),n.CSFChosenOrder(d,!0)}if(a){var f=n.parent().find(".chosen-container").find(".chosen-choices");f.bind("mousedown",function(t){e(t.target).is("span")&&t.stopPropagation()}),f.sortable({items:"li:not(.search-field)",helper:"orginal",cursor:"move",placeholder:"search-choice-placeholder",start:function(e,t){t.placeholder.width(t.item.innerWidth()),t.placeholder.height(t.item.innerHeight())},update:function(t,i){var a="",r=n.data("chosen"),S=n.parent().find(".CFSSMARTSMS-hide-select");f.find(".search-choice-close").each(function(){var t=e(this).data("option-array-index");e.each(r.results_data,function(e,n){n.array_index===t&&(a+='<option value="'+n.value+'" selected>'+n.value+"</option>")})}),S.children().remove(),S.append(a),S.trigger("change")}})}})},e.fn.csf_checkbox=function(){return this.each(function(){var t=e(this),n=t.find(".CFSSMARTSMS--input"),i=t.find(".CFSSMARTSMS--checkbox");i.on("click",function(){n.val(Number(i.prop("checked"))).trigger("change")})})},e.fn.csf_siblings=function(){return this.each(function(){var t=e(this),n=t.find(".CFSSMARTSMS--sibling"),i=t.data("multiple")||!1;n.on("click",function(){var n=e(this);i?n.hasClass("CFSSMARTSMS--active")?(n.removeClass("CFSSMARTSMS--active"),n.find("input").prop("checked",!1).trigger("change")):(n.addClass("CFSSMARTSMS--active"),n.find("input").prop("checked",!0).trigger("change")):(t.find("input").prop("checked",!1),n.find("input").prop("checked",!0).trigger("change"),n.addClass("CFSSMARTSMS--active").siblings().removeClass("CFSSMARTSMS--active"))})})},e.fn.csf_help=function(){return this.each(function(){var t,n,i=e(this);i.on({mouseenter:function(){t=e('<div class="CFSSMARTSMS-tooltip"></div>').html(i.find(".CFSSMARTSMS-help-text").html()).appendTo("body"),n=a.vars.is_rtl?i.offset().left+24:i.offset().left-t.outerWidth(),t.css({top:i.offset().top-(t.outerHeight()/2-14),left:n})},mouseleave:function(){void 0!==t&&t.remove()}})})},e.fn.csf_customizer_refresh=function(){return this.each(function(){var i=e(this),a=i.closest(".CFSSMARTSMS-customize-complex");if(a.length){var r=a.data("unique-id");if(void 0===r)return;var S=a.find(":input"),o=a.data("option-id"),s=S.serializeObjectCSF(),c=!e.isEmptyObject(s)&&s[r]&&s[r][o]?s[r][o]:"",l=t.wp.customize.control(r+"["+o+"]");l.setting._value=null,l.setting.set(c)}else i.find(":input").first().trigger("change");e(n).trigger("CFSSMARTSMS-customizer-refresh",i)})},e.fn.csf_customizer_listen=function(n){var i=e.extend({closest:!1},n);return this.each(function(){if(void 0!==t.wp.customize){var n=i.closest?e(this).closest(".CFSSMARTSMS-customize-complex"):e(this),a=n.find(":input"),r=n.data("unique-id"),S=n.data("option-id");void 0!==r&&a.on("change keyup",function(){var i=n.find(":input").serializeObjectCSF(),a=!e.isEmptyObject(i)&&i[r]&&i[r][S]?i[r][S]:"";t.wp.customize.control(r+"["+S+"]").setting.set(a)})}})},e(n).on("expanded",".control-section",function(){var t=e(this);if(t.hasClass("open")&&!t.data("inited")){var n=t.find(".CFSSMARTSMS-customize-field"),i=t.find(".CFSSMARTSMS-customize-complex");n.length&&(t.csf_dependency(),n.csf_reload_script({dependency:!1}),i.csf_customizer_listen()),t.data("inited",!0)}}),a.vars.$window.on("resize CFSSMARTSMS.resize",a.helper.debounce(function(n){(navigator.userAgent.indexOf("AppleWebKit/")>-1?a.vars.$window.width():t.innerWidth)<=782&&!a.vars.onloaded&&(e(".CFSSMARTSMS-section").csf_reload_script(),a.vars.onloaded=!0)},200)).trigger("CFSSMARTSMS.resize"),e.fn.csf_widgets=function(){return this.each(function(){e(n).on("widget-added widget-updated",function(e,t){var n=t.find(".CFSSMARTSMS-fields");n.length&&n.csf_reload_script()}),e(n).on("click",".widget-top",function(t){var n=e(this).parent().find(".CFSSMARTSMS-fields");n.length&&n.csf_reload_script()}),e(".widgets-sortables, .control-section-sidebar").on("sortstop",function(e,t){t.item.find(".CFSSMARTSMS-fields").csf_reload_script_retry()})})},e.fn.csf_nav_menu=function(){return this.each(function(){var t=e(this);t.on("click","a.item-edit",function(){e(this).closest("li.menu-item").find(".CFSSMARTSMS-fields").csf_reload_script()}),t.on("sortstop",function(e,t){t.item.find(".CFSSMARTSMS-fields").csf_reload_script_retry()})})},e.fn.csf_reload_script_retry=function(){return this.each(function(){var t=e(this);t.data("inited")&&t.children(".CFSSMARTSMS-field-wp_editor").csf_field_wp_editor()})},e.fn.csf_reload_script=function(t){var i=e.extend({dependency:!0},t);return this.each(function(){var t=e(this);t.data("inited")||(t.children(".CFSSMARTSMS-field-accordion").csf_field_accordion(),t.children(".CFSSMARTSMS-field-backup").csf_field_backup(),t.children(".CFSSMARTSMS-field-background").csf_field_background(),t.children(".CFSSMARTSMS-field-date").csf_field_date(),t.children(".CFSSMARTSMS-field-datetime").csf_field_datetime(),t.children(".CFSSMARTSMS-field-fieldset").csf_field_fieldset(),t.children(".CFSSMARTSMS-field-gallery").csf_field_gallery(),t.children(".CFSSMARTSMS-field-group").csf_field_group(),t.children(".CFSSMARTSMS-field-icon").csf_field_icon(),t.children(".CFSSMARTSMS-field-link").csf_field_link(),t.children(".CFSSMARTSMS-field-media").csf_field_media(),t.children(".CFSSMARTSMS-field-map").csf_field_map(),t.children(".CFSSMARTSMS-field-repeater").csf_field_repeater(),t.children(".CFSSMARTSMS-field-slider").csf_field_slider(),t.children(".CFSSMARTSMS-field-sortable").csf_field_sortable(),t.children(".CFSSMARTSMS-field-sorter").csf_field_sorter(),t.children(".CFSSMARTSMS-field-spinner").csf_field_spinner(),t.children(".CFSSMARTSMS-field-switcher").csf_field_switcher(),t.children(".CFSSMARTSMS-field-tabbed").csf_field_tabbed(),t.children(".CFSSMARTSMS-field-typography").csf_field_typography(),t.children(".CFSSMARTSMS-field-upload").csf_field_upload(),t.children(".CFSSMARTSMS-field-wp_editor").csf_field_wp_editor(),t.children(".CFSSMARTSMS-field-border").find(".CFSSMARTSMS-color").csf_color(),t.children(".CFSSMARTSMS-field-background").find(".CFSSMARTSMS-color").csf_color(),t.children(".CFSSMARTSMS-field-color").find(".CFSSMARTSMS-color").csf_color(),t.children(".CFSSMARTSMS-field-color_group").find(".CFSSMARTSMS-color").csf_color(),t.children(".CFSSMARTSMS-field-link_color").find(".CFSSMARTSMS-color").csf_color(),t.children(".CFSSMARTSMS-field-typography").find(".CFSSMARTSMS-color").csf_color(),t.children(".CFSSMARTSMS-field-select").find(".CFSSMARTSMS-chosen").csf_chosen(),t.children(".CFSSMARTSMS-field-checkbox").find(".CFSSMARTSMS-checkbox").csf_checkbox(),t.children(".CFSSMARTSMS-field-button_set").find(".CFSSMARTSMS-siblings").csf_siblings(),t.children(".CFSSMARTSMS-field-image_select").find(".CFSSMARTSMS-siblings").csf_siblings(),t.children(".CFSSMARTSMS-field-palette").find(".CFSSMARTSMS-siblings").csf_siblings(),t.children(".CFSSMARTSMS-field").find(".CFSSMARTSMS-help").csf_help(),i.dependency&&t.csf_dependency(),t.data("inited",!0),e(n).trigger("CFSSMARTSMS-reload-script",t))})},e(n).ready(function(){e(".CFSSMARTSMS-save").csf_save(),e(".CFSSMARTSMS-options").CSFSMARTSMS_Options(),e(".CFSSMARTSMS-sticky-header").csf_sticky(),e(".CFSSMARTSMS-nav-options").csf_nav_options(),e(".CFSSMARTSMS-nav-metabox").csf_nav_metabox(),e(".CFSSMARTSMS-taxonomy").csf_taxonomy(),e(".CFSSMARTSMS-page-templates").csf_page_templates(),e(".CFSSMARTSMS-post-formats").csf_post_formats(),e(".CFSSMARTSMS-shortcode").csf_shortcode(),e(".CFSSMARTSMS-search").csf_search(),e(".CFSSMARTSMS-confirm").csf_confirm(),e(".CFSSMARTSMS-expand-all").csf_expand_all(),e(".CFSSMARTSMS-onload").csf_reload_script(),e("#widgets-editor").csf_widgets(),e("#widgets-right").csf_widgets(),e("#menu-to-edit").csf_nav_menu()})}(jQuery,window,document);